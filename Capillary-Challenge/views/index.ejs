<% include ./partials/header.ejs %>

<div class="container" ng-controller="MainController">
    <div class="row">
        <div class="col-sm-4 col-sm-offset-4 text-center games-details-header">
            <h3>Game Details</h3>
        </div>
    </div>
    <br><br>
    <div class="row text-center">
        <div class="col-sm-3">
            <input type="text" class="form-control custom-input" placeholder="SEARCH BY NAME" ng-model="searchText.title">
        </div>
        <div class="col-sm-3">
            <select class="form-control custom-input" ng-model="selectType">
                <option value="">SORT BY</option>
                <option value="score">Score</option>
                <option value="title">Title</option>
            </select>
        </div>
        <div class="col-sm-3">
            <select class="form-control custom-input" ng-model="selectOrder" ng-change="changeOrder()">
                <option value="">ASC OR DESC</option>
                <option value="ascending">Ascending</option>
                <option value="descending">Descending</option>
            </select>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-5 games-details-card" ng-repeat="game in gamesData.slice(startingIndex, endIndex) | filter:searchText:strict | orderBy: selectType: sortReverse">
            <div class="row title-header">
                <div class="col-xs-11">
                    <h4>{{game.title}}</h4>
                </div>
                <div class="col-xs-1">
                    <i class="fa fa-star" ng-if="game.editors_choice === 'Y'"></i>
                </div>
            </div>
            <div class="row games-details">
                <div class="col-xs-12">
                    <p><span class="emphasis-text">Genre</span><span class="bold-text">: {{game.genre}}</span></p>
                </div>
                <div class="col-xs-12">
                    <p><span class="emphasis-text">Platform</span><span class="bold-text">: {{game.platform}}</span></p>
                </div>
            </div>

            <div class="row game-score">
                <div class="col-xs-2">
                    <p><span class="emphasis-text">Score: </span></p>
                </div>
                <div class="col-xs-10">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="70"
                             aria-valuemin="0" aria-valuemax="100" style="width:{{game.score*10}}%">
                            <span class="sr-only">{{game.score*10}}% rating</span>
                        </div>
                    </div>
                </div>
                <div class="col-xs-10"><p class="bold-text">({{game.score*10}}% i.e {{game.score}} out of 10 stars)</p></div>
            </div>
        </div>
    </div>
    <br><br>

    <div class="row text-center">
        <ul class="pagination">
            <li ng-repeat="i in generateArray(10) track by $index" ng-class="{'active': ($index+1)==pageNumber}">
                <a ng-click="nextPage($index+1)" >{{$index+1}}</a>
            </li>

        </ul>
    </div>
</div>

<% include ./partials/footer.ejs %>
